(function(){"use strict";var t={5123:function(t,e,n){var o=n(6369),a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e("simon-game")],1)},s=[],i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"simon-game"},[e("div",{staticClass:"simon-game__board"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"lose"===t.gameStatus,expression:"gameStatus === 'lose'"}]},[t._v(" Вы проиграли. Ваш счёт "+t._s(t.roundColors.length-1)+" ")]),e("button",{directives:[{name:"show",rawName:"v-show",value:"wait for start"===t.gameStatus||"lose"===t.gameStatus,expression:"gameStatus === 'wait for start' || gameStatus === 'lose'"}],staticClass:"simon-game__button-start",on:{click:function(e){return t.startGame()}}},[t._v(" Играть ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"gameplay"===t.gameStatus||"animation"===t.gameStatus,expression:"gameStatus === 'gameplay' || gameStatus === 'animation'"}]},[t._v(" Раунд: "+t._s(t.roundColors.length)+" ")]),e("label",[e("span",[t._v("Сложность:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.difficultyFactor,expression:"difficultyFactor"}],attrs:{disabled:"gameplay"===t.gameStatus||"animation"===t.gameStatus},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.difficultyFactor=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"1.5",selected:""}},[t._v("Легкая")]),e("option",{attrs:{value:"1"}},[t._v("Средняя")]),e("option",{attrs:{value:"0.4"}},[t._v("Сложная")])])])]),e("div",{staticClass:"simon-game__game-field"},t._l(t.gameColors,(function(n,o){return e("button",{key:o,class:["simon-game__field-button",`simon-game__field-button--${n}`,{"simon-game__field-button--active":t.activeButton===n}],attrs:{disabled:"gameplay"!==t.gameStatus},on:{click:function(e){return t.gameButtonClickHandler(n)}}})})),0)])},r=[],u=(n(560),n.p+"media/red.4439a9af.mp3"),l=n.p+"media/blue.65e0df3b.mp3",m=n.p+"media/yellow.049c0e2c.mp3",d=n.p+"media/green.f8db31a2.mp3",c=o.ZP.extend({name:"SimonGame",data(){return{gameButton:{red:{sound:new Audio(u)},blue:{sound:new Audio(l)},yellow:{sound:new Audio(m)},green:{sound:new Audio(d)}},gameStatus:"wait for start",activeButton:null,roundProgress:-1,roundColors:[],difficultyFactor:"1.5"}},computed:{gameColors(){return Object.keys(this.gameButton)},difficulty(){return 1e3*+this.difficultyFactor}},methods:{startGame(){this.roundProgress=-1,this.roundColors=[this.generateColor()],this.gameStatus="animation",setTimeout(this.animate,500)},nextRound(){this.roundProgress=-1,this.roundColors.push(this.generateColor()),this.gameStatus="animation",setTimeout(this.animate,this.difficulty+500)},async animate(){for(let t=0;t<this.roundColors.length;t++){const e=this.roundColors[t];await new Promise((t=>{this.activeButton=e,this.playSound(e),setTimeout((()=>{this.activeButton=null,setTimeout(t,100)}),this.difficulty)}))}this.activeButton=null,this.gameStatus="gameplay"},playSound(t){const e=this.gameButton[t];e.sound.paused?e.sound.play():e.sound.currentTime=0},gameButtonClickHandler(t){this.playSound(t),this.roundColors[++this.roundProgress]===t?this.roundProgress===this.roundColors.length-1&&this.nextRound():this.gameStatus="lose"},generateColor(){return this.gameColors[Math.floor(4*Math.random())]}}}),f=c,g=n(1001),p=(0,g.Z)(f,i,r,!1,null,"7531d346",null),h=p.exports,v=o.ZP.extend({name:"App",components:{SimonGame:h}}),_=v,y=(0,g.Z)(_,a,s,!1,null,null,null),w=y.exports;o.ZP.config.productionTip=!1,o.ZP.config.devtools=!0,new o.ZP({render:t=>t(w)}).$mount("#app")}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var s=e[o]={exports:{}};return t[o].call(s.exports,s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,o,a,s){if(!o){var i=1/0;for(m=0;m<t.length;m++){o=t[m][0],a=t[m][1],s=t[m][2];for(var r=!0,u=0;u<o.length;u++)(!1&s||i>=s)&&Object.keys(n.O).every((function(t){return n.O[t](o[u])}))?o.splice(u--,1):(r=!1,s<i&&(i=s));if(r){t.splice(m--,1);var l=a();void 0!==l&&(e=l)}}return e}s=s||0;for(var m=t.length;m>0&&t[m-1][2]>s;m--)t[m]=t[m-1];t[m]=[o,a,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/medods-task-simon-the-game/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,s,i=o[0],r=o[1],u=o[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(u)var m=u(n)}for(e&&e(o);l<i.length;l++)s=i[l],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(m)},o=self["webpackChunkmedods_task_simon_the_game"]=self["webpackChunkmedods_task_simon_the_game"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5123)}));o=n.O(o)})();
//# sourceMappingURL=app.e9375438.js.map